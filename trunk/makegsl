#!/usr/bin/perl -w


use Config;
# Build.PL needs to do this

my $archlib = $Config{archlib};
my $swig = "swig";
my $opt  = "-shadow -Wall -perl5"; 

my @swigs = qw/
    Blas Block Bspline Cblas Cdf Chebyshev CheckRange Combination Complex
    Const Deriv Dft Dht Diff Eigen Errno Fft Fit Heapsort Histogram Histogram2d
    Ieee_utils Integration Interp Linalg Machine Math Matrix Message Min Mode Monte
    Multifit Multimin Multiroots Nan Ntuple Odeiv Permutation Permute Poly Pow_int Precision
    Qrng Randist Rng Roots Sf Siman Sort Specfunc Spline Statistics Sum Sys Test Types Vector
    Version Wavelet Wavelet2d
   /;

# to do all
#map { system "$swig $opt -module Math::GSL::$_ $_.i" } @swigs;

system "$swig $opt -module Math::GSL::Sf Sf.i";

my $cmd2= q{gcc -Wall -fpic -c Sf_wrap.c  -Dbool=char -I}.$archlib.q{/CORE -I/usr/local/include/};

my $cmd3= q{ gcc -L/usr/local/lib -shared Sf_wrap.o -lgsl -o Sf.so};

system "$cmd2 && $cmd3";
